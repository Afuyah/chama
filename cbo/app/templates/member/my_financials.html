{% extends 'layouts/base.html' %}

{% block content %}
<div class="container">
    <h2>Your Financial Summary</h2>
    <h4>Total Contributions: Ksh {{ total_contributions }}</h4>
    <h4>Total Fines: Ksh {{ total_fines }}</h4>
    <h4>Current Balance: Ksh {{ balance }}</h4>

    <h5>Contributions</h5>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Date</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody>
            {% for contribution in contributions %}
            <tr>
                <td>{{ contribution.date.strftime('%Y-%m-%d') }}</td>
                <td>Ksh {{ contribution.amount }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h5>Fines</h5>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Date</th>
                <th>Amount</th>
                <th>Reason</th>
            </tr>
        </thead>
        <tbody>
            {% for fine in fines %}
            <tr>
                <td>{{ fine.date.strftime('%Y-%m-%d') }}</td>
                <td>Ksh {{ fine.amount }}</td>
                <td>{{ fine.reason }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
